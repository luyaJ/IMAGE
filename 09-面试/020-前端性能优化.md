# 前端性能优化的方法

（1）减少 http 请求次数：

  * CSS Sprites
  * JS、CSS源码压缩
  * 图片大小控制合适
  * 网页 GZip
  * CDN 托管
  * data 缓存
  * 图片服务器

（2）前端模板 JS + 数据，减少由于 HTML 标签导致的带宽浪费，前端用变量保存 AJAX 请求结果，每次操作本地数据，不用请求，减少请求次数。

（3）用 innerHTML 代替 DOM 操作，减少 DOM 操作次数，优化 javascript 性能。

（4）当需要设置的样式很多时设置 className 而不是直接操作 style。

（5）少用全局变量，缓存 DOM 节点查找的结果。减少 IO 读取操作。

（6）避免使用 CSS Expression（CSS 表达式）又称Dynamic properties（动态属性）。

```bash
left: expression(document.body.offsetWidth - 180 "px");

a { star:expression(this.onFocus = this.blur()) }
```

（7）图片预加载，将样式表放在顶部，将脚本放在底部。

（8）避免在页面的主体布局中使用 `table`，`table` 要等其中的内容完全下载之后才会显示出来，显示的比 `div + css` 布局慢。

> 对普通网站有一个统一的思路，就是尽量向前端优化、减少数据库操作、减少磁盘 I/O。

向前端优化指的是，在不影响功能和体验的情况下，能在浏览器执行的就不要在服务器执行，能在缓存服务器上直接返回的就不要到应用服务器上，，程序能直接取得的结果不要到外部取得，本机内能取得的数据不要到远程取，内存能取到的不要到磁盘取，缓存中有的不要去数据库查询。

减少数据库操作指减少更新次数、缓存结果减少查询次数。

减少磁盘 I/O 指尽量不使用文件系统作为缓存、减少读写文件次数等。